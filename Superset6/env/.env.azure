# Apache Superset 6.0.0 - Azure クラウド環境用設定
# Azure Cloud Production Environment Configuration

# =============================================================================
# Container Configuration
# =============================================================================
CONTAINER_PREFIX=superset6-azure

# =============================================================================
# Database Configuration (Azure Database for PostgreSQL)
# =============================================================================
DATABASE_DIALECT=postgresql
# Azure Database for PostgreSQL の接続情報を設定してください
DATABASE_USER=superset@your-azure-postgres-server
DATABASE_PASSWORD=YOUR_AZURE_POSTGRES_PASSWORD
DATABASE_HOST=your-azure-postgres-server.postgres.database.azure.com
DATABASE_PORT=5432
DATABASE_DB=superset

# Note: Azure環境ではローカルPostgreSQLコンテナを使用しないため、
# compose.yml で local profile を使わないでください

# =============================================================================
# Superset Configuration
# =============================================================================
# Environment: production (enables INFO logging)
ENV=production

# IMPORTANT: Generate a secure key: openssl rand -base64 42
# Azure Key Vault から取得することを推奨
SUPERSET_SECRET_KEY=YOUR_PRODUCTION_SECURE_SECRET_KEY

# Superset web port (Azure Container Instancesでは通常80または8088)
SUPERSET_PORT=8088

# 本番環境ではサンプルを読み込まない
SUPERSET_LOAD_EXAMPLES=false

# Gunicorn workers (Azure Container Instancesのスペックに応じて調整)
# 推奨: 2 * vCPU + 1
GUNICORN_WORKERS=4

# =============================================================================
# Admin User Configuration
# =============================================================================
# 本番環境では強力なパスワードを使用してください
ADMIN_USERNAME=admin
ADMIN_FIRSTNAME=Admin
ADMIN_LASTNAME=User
ADMIN_EMAIL=admin@your-company.com
ADMIN_PASSWORD=YOUR_STRONG_ADMIN_PASSWORD

# =============================================================================
# Localization
# =============================================================================
BABEL_DEFAULT_LOCALE=ja
LANGUAGES={"ja":"日本語","en":"English"}

# =============================================================================
# Celery Configuration
# =============================================================================
# Azure Container Instancesのスペックに応じて調整
CELERYD_CONCURRENCY=4

# =============================================================================
# Alerts & Reports Configuration
# =============================================================================
ALERT_REPORTS=true
# Azure App Service または Container Instances の公開URL
WEBDRIVER_BASEURL_USER_FRIENDLY=https://your-superset-domain.azurewebsites.net

# =============================================================================
# SMTP Configuration (Azure Communication Services or SendGrid)
# =============================================================================
# Azure Communication Services または SendGrid を使用する場合
SMTP_HOST=smtp.sendgrid.net
SMTP_PORT=587
SMTP_STARTTLS=True
SMTP_SSL=False
SMTP_USER=apikey
SMTP_PASSWORD=YOUR_SENDGRID_API_KEY
SMTP_MAIL_FROM=superset@your-company.com

# =============================================================================
# Logging
# =============================================================================
LOG_LEVEL=INFO

# =============================================================================
# Azure Specific Settings (参考)
# =============================================================================
# Azure Redis Cache を使用する場合は、compose.yml の redis サービスを
# 無効化し、以下の環境変数を superset_config.py で使用するよう修正してください
#
# REDIS_HOST=your-redis-cache.redis.cache.windows.net
# REDIS_PORT=6380
# REDIS_PASSWORD=YOUR_REDIS_ACCESS_KEY
# REDIS_SSL=true
